<div class="cv-form-container">
  <h2>{{ isEditMode ? 'Edit CV' : 'Create CV' }}</h2>
  
  <!-- CV Form -->
  <form [formGroup]="cvForm" (ngSubmit)="saveCV()">
    <!-- CV Basic Info -->
    <div class="form-group">
      <label for="name">Name:<span style="color: red;">*</span></label>
      <input id="name" type="text" formControlName="name" class="form-control" />
      <div *ngIf="cvForm.get('name')?.invalid && cvForm.get('name')?.touched" class="text-danger">
        Name is required.
      </div>
    </div>

    <!-- Personal Information Section -->
    <div formGroupName="personalInformation" class="personal-info">
      <h3>Personal Information</h3>

      <div class="form-group">
        <label for="fullName">Full Name:<span style="color: red;">*</span></label>
        <input id="fullName" type="text" formControlName="fullName" class="form-control" />
        <div *ngIf="cvForm.get('personalInformation.fullName')?.invalid && cvForm.get('personalInformation.fullName')?.touched" class="text-danger">
          Full name is required.
        </div>
      </div>

      <div class="form-group">
        <label for="cityName">City Name:</label>
        <input id="cityName" type="text" formControlName="cityName" class="form-control" />
      </div>

      <div class="form-group">
        <label for="email">Email:<span style="color: red;">*</span></label>
        <input id="email" type="email" formControlName="email" class="form-control" />
        <div *ngIf="cvForm.get('personalInformation.email')?.invalid && cvForm.get('personalInformation.email')?.touched" class="text-danger">
          <div *ngIf="cvForm.get('personalInformation.email')?.errors?.['required']">
            Email is required.
          </div>
          <div *ngIf="cvForm.get('personalInformation.email')?.errors?.['email']">
            Enter a valid email address.
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="mobileNumber">Mobile Number:<span style="color: red;">*</span></label>
        <input id="mobileNumber" type="text" formControlName="mobileNumber" class="form-control" />
        <div *ngIf="cvForm.get('personalInformation.mobileNumber')?.invalid && cvForm.get('personalInformation.mobileNumber')?.touched" class="text-danger">
          <div *ngIf="cvForm.get('personalInformation.mobileNumber')?.errors?.['required']">
            Mobile number is required.
          </div>
          <div *ngIf="cvForm.get('personalInformation.mobileNumber')?.errors?.['pattern']">
            Only numbers are allowed.
          </div>
        </div>
      </div>
    </div>

    <!-- Experience Information Section -->
    <div formGroupName="experienceInformation" class="experience-info">
      <h3>Experience Information</h3>

      <div class="form-group">
        <label for="companyName">Company Name:<span style="color: red;">*</span></label>
        <input id="companyName" type="text" formControlName="companyName" class="form-control" />
        <div *ngIf="cvForm.get('experienceInformation.companyName')?.invalid && cvForm.get('experienceInformation.companyName')?.touched" class="text-danger">
          <div *ngIf="cvForm.get('experienceInformation.companyName')?.errors?.['required']">
            Company name is required.
          </div>
          <div *ngIf="cvForm.get('experienceInformation.companyName')?.errors?.['maxlength']">
            Company name cannot exceed 20 characters.
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="city">City:</label>
        <input id="city" type="text" formControlName="city" class="form-control" />
      </div>

      <div class="form-group">
        <label for="companyField">Company Field:</label>
        <input id="companyField" type="text" formControlName="companyField" class="form-control" />
      </div>
    </div>
    
    <button type="submit" class="btn btn-primary" [disabled]="cvForm.invalid">
      {{ isEditMode ? 'Update' : 'Create' }}
    </button>
  </form>
</div>
